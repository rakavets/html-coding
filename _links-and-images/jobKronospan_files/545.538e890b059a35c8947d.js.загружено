(window.webpackJsonp=window.webpackJsonp||[]).push([[545],{1538:function(e,t,i){"use strict";i.r(t);var n=i(1),r=i.n(n),a=i(0),o=i.n(a),c=i(1437),l=i(1271),s=i(1273),p=i(1455),d=i(1459),m=i(1574),u=i(1535),E=i(1736),y=i(1739),v=i(143),f=i(400),b=i(382),D=i(1275),g=i(1436),S=i(1577),w=function e(t){var i=t.trls,a=t.descriptionText,o=t.toggleShowDescriptionEditor,c=t.editMode,l=t.setEditMode,p=t.canEdit,d=!!a,m=c?i[e.trls.defaultDescription]:i[e.trls.noDescription];return r.a.createElement(n.Fragment,null,r.a.createElement(f.a,null,d?r.a.createElement("div",{className:"company-description","data-qa":"company-description-text"},r.a.createElement(S.a,{content:a})):m),r.a.createElement(f.a,null,c&&r.a.createElement("div",{className:"company-description-edit-button"},r.a.createElement(s.a,{right:!0},r.a.createElement(v.b,{onClick:o,"data-qa":"edit-company-description",kind:d?v.b.kinds.primary:v.b.kinds.primaryMinor},d?i[e.trls.editDescription]:i[e.trls.addDescription]))),p&&r.a.createElement(b.a,null,r.a.createElement(D.a,{onClick:l,"data-qa":"link-view-as-applicant"},c?i[e.trls.previewLink]:i[e.trls.editLink]))))};w.displayName="EmployerSimpleEdit/components/DefaultDescription/DefaultDescription",w.trls={defaultDescription:"employer.edit.simple.defaultDescription",addDescription:"employer.edit.simple.addDescription",editDescription:"employer.edit.simple.editDescription",noDescription:"employer.no.description.text",previewLink:"employer.edit.simple.previewLink",editLink:"employer.edit.simple.editLink"},w.propTypes={trls:o.a.object,descriptionText:o.a.string,toggleShowDescriptionEditor:o.a.func,setEditMode:o.a.func,editMode:o.a.bool,canEdit:o.a.bool};var h=Object(c.connect)((function(e){var t=e.employerInfo,i=e.employerPageIsViewMode;return{descriptionText:t.description,canEdit:t.canEditDescription&&!i}}))(Object(g.b)(w)),k=i(171),j=i(1495),N=i(1444),O=i(1740),C=i(1578),T=i(1653);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var i=[],n=!0,r=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=function e(t){var i=t.trls,a=t.toggleShowDescriptionEditor,o=t.descriptionText,c=t.saveDescriptionRequest,l=t.saveDescriptionStatus,s=t.canEdit,p=t.addNotification,d=x(Object(n.useState)(o),2),m=d[0],u=d[1],E=x(Object(n.useState)(!1),2),y=E[0],D=E[1],g=Object(n.useCallback)((function(){D(!0),c(m).catch((function(e){var t,i,n,r;p(T.a,{type:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(i=t.data)||void 0===i?void 0:null===(n=i.error)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.key)||"UNKNOWN"})}))}),[p,m,c]);return Object(n.useEffect)((function(){l===j.a.SUCCESS&&y&&(p(T.b),D(!1),a(),u(o))}),[p,o,l,a,y]),r.a.createElement(n.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(C.a,{value:m,onChange:u})),s&&r.a.createElement(f.a,null,r.a.createElement(v.b,{onClick:g,kind:v.b.kinds.primary,"data-qa":"save-employer-description",loading:l===j.a.FETCHING&&r.a.createElement(k.a,null)},i[e.trls.saveDescription]),r.a.createElement(b.a,null,r.a.createElement(v.b,{onClick:a,kind:v.b.kinds.primaryMinor},i[e.trls.cancelEditDescription]))))};I.displayName="EmployerSimpleEdit/components/EditDescription/EditDescription",I.trls={saveDescription:"employer.edit.simple.saveDescription",cancelEditDescription:"employer.edit.simple.cancelEditDescription"},I.propTypes={trls:o.a.object,toggleShowDescriptionEditor:o.a.func,descriptionText:o.a.string,saveDescriptionRequest:o.a.func,saveDescriptionStatus:o.a.string,canEdit:o.a.bool,addNotification:o.a.func};var M=Object(c.connect)((function(e){var t=e.employerInfo,i=e.employerPageIsViewMode;return{descriptionText:t.description,canEdit:t.canEditDescription&&!i,saveDescriptionStatus:t.saveDescriptionStatus}}),{saveDescriptionRequest:O.a,addNotification:N.a})(Object(g.b)(I));function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var i=[],n=!0,r=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=function(e){var t=e.canEdit,i=e.employerName,a=e.seoCities,o=q(Object(p.a)(!1),2),c=o[0],v=o[1],f=q(Object(p.a)(t),2),b=f[0],D=f[1],g=Object(n.useRef)(null);return r.a.createElement(y.b,{mode:b?y.a.EDIT_DESCRIPTION:y.a.VIEW,employerName:i,seoCities:a},r.a.createElement(d.a,null,r.a.createElement("div",{className:"employer-constructor-xs-hidden"},r.a.createElement(s.a,{bottom:!0})),r.a.createElement(l.b,null,r.a.createElement(l.c,{xs:"4",s:"8",m:"3",l:"3"},r.a.createElement(m.a,{editMode:t&&b,showConstructorButton:!0})),r.a.createElement(l.c,{xs:"4",s:"8",m:"9",l:"11"},r.a.createElement("div",{className:"sticky-container"},r.a.createElement("div",{className:"employer-page-header"},r.a.createElement(u.a,null)),r.a.createElement(s.a,{top:!0},c?r.a.createElement(M,{toggleShowDescriptionEditor:v}):r.a.createElement(h,{toggleShowDescriptionEditor:v,setEditMode:D,editMode:b})),!b&&r.a.createElement("div",{ref:g},r.a.createElement(E.a,null)))))))};A.displayName="pages/EmployerSimpleEdit/EmployerSimpleEdit.route/EmployerSimpleEdit",A.propTypes={canEdit:o.a.bool,employerName:o.a.string,seoCities:o.a.arrayOf(o.a.string)};t.default=Object(c.connect)((function(e){var t=e.employerInfo,i=e.employerPageIsViewMode,n=e.employerSeoCities;return{canEdit:t.canEditDescription&&!i,employerName:t.name,seoCities:n}}))(A)}}]);
//# sourceMappingURL=545.538e890b059a35c8947d.js.map